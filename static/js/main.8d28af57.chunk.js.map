{"version":3,"sources":["firebase.js","components/SignIn.js","components/SendMessages.js","components/SignOut.js","components/Chat.js","App.js","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","SignIn","style","display","justifyContent","height","alignItems","Button","padding","fontSize","borderRadius","fontWeight","onClick","provider","GoogleAuthProvider","signInWithPopup","SendMessages","scroll","useState","msg","setMsg","e","a","preventDefault","currentUser","uid","photoURL","collection","add","text","createdAt","FieldValue","serverTimestamp","current","scrollIntoView","behavior","onSubmit","className","Input","width","marginLeft","marginBottom","placeholder","type","value","onChange","target","margin","maxWidth","SignOut","signOut","Chat","messages","setMessages","useRef","useEffect","orderBy","limit","onSnapshot","snapshot","docs","map","doc","data","id","src","alt","ref","App","useAuthState","user","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8LAYMA,EAVcC,IAASC,cAAc,CACvCC,OAAQ,0CACRC,WAAY,qDACZC,UAAW,iBACXC,cAAe,6BACfC,kBAAmB,gBACnBC,MAAO,6CACPC,cAAe,iBAGIC,YAEjBC,EAAOV,IAASU,O,eCGPC,MAZf,WAKI,OACI,qBAAKC,MAAO,CAAEC,QAAS,OAAQC,eAAgB,SAAUC,OAAQ,QAASC,WAAY,UAAtF,SACI,cAACC,EAAA,EAAD,CAAQL,MAAO,CAAEM,QAAS,OAAQC,SAAU,OAAQC,aAAc,IAAKC,WAAY,OAASC,QANpG,WACI,IAAMC,EAAW,IAAIvB,IAASU,KAAKc,mBACnCd,EAAKe,gBAAgBF,IAIjB,oC,iCCsBGG,MA7Bf,YAAmC,IAAXC,EAAU,EAAVA,OACpB,EAAsBC,mBAAS,IAA/B,mBAAOC,EAAP,KAAYC,EAAZ,KAD8B,4CAG9B,WAA2BC,GAA3B,mBAAAC,EAAA,6DACID,EAAEE,iBADN,EAE8BvB,EAAKwB,YAAvBC,EAFZ,EAEYA,IAAKC,EAFjB,EAEiBA,SAFjB,SAIUrC,EAAGsC,WAAW,YAAYC,IAAI,CAChCC,KAAMV,EACNO,WACAD,MACAK,UAAWxC,IAASS,UAAUgC,WAAWC,oBARjD,OAUIZ,EAAO,IACPH,EAAOgB,QAAQC,eAAe,CAAEC,SAAU,WAX9C,4CAH8B,sBAiB9B,OACI,8BACI,sBAAMC,SAnBgB,4CAmBtB,SACI,sBAAKC,UAAU,UAAf,UACI,cAACC,EAAA,EAAD,CAAOpC,MAAO,CAAEqC,MAAO,MAAO9B,SAAU,OAAQE,WAAY,MAAO6B,WAAY,MAAOC,aAAc,QAAUC,YAAY,aAAaC,KAAK,OAAOC,MAAOzB,EAAK0B,SAAU,SAAAxB,GAAC,OAAID,EAAOC,EAAEyB,OAAOF,UAC9L,cAACrC,EAAA,EAAD,CAAQL,MAAO,CAAEqC,MAAO,MAAO9B,SAAU,OAAQE,WAAY,MAAOoC,OAAQ,kBAAmBC,SAAU,SAAWL,KAAK,SAAzH,0BCfLM,MARf,WACI,OACI,8BACI,cAAC1C,EAAA,EAAD,CAAQK,QAAS,kBAAMZ,EAAKkD,WAA5B,yBC6BGC,MA/Bf,WACI,MAAgCjC,mBAAS,IAAzC,mBAAOkC,EAAP,KAAiBC,EAAjB,KACMpC,EAASqC,mBAUf,OARAC,qBAAU,WACNlE,EAAGsC,WAAW,YAAY6B,QAAQ,aAAaC,MAAM,IAAIC,YAAW,SAACC,GACjEN,EAAYM,EAASC,KAAKC,KAAI,SAAAC,GAAG,OAAIA,EAAIC,gBAG9C,IAIC,gCACI,cAAC,EAAD,IACA,qBAAK1B,UAAU,OAAf,SACKe,EAASS,KAAI,gBAAGG,EAAH,EAAGA,GAAInC,EAAP,EAAOA,KAAMH,EAAb,EAAaA,SAAUD,EAAvB,EAAuBA,IAAvB,OACV,8BACI,sBAAcY,UAAS,cAASZ,IAAQzB,EAAKwB,YAAYC,IAAM,OAAS,YAAxE,UACI,qBAAKwC,IAAKvC,EAAUwC,IAAI,KACxB,4BAAIrC,MAFEmC,UAOtB,cAAC,EAAD,CAAc/C,OAAQA,IACtB,qBAAKkD,IAAKlD,Q,QCdPmD,MAXf,WACE,MAAeC,YAAarE,GAArBsE,EAAP,oBACA,OACE,mCACGA,EAAO,cAAC,EAAD,IAAW,cAAC,EAAD,OCNzBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.8d28af57.chunk.js","sourcesContent":["import firebase from 'firebase'\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n    apiKey: \"AIzaSyBqHWdDg-ijdxQ_d7QOP-fvxvfaCFG5ygU\",\r\n    authDomain: \"https://auth.tiffany0313.github.io/__/auth/handler\",\r\n    projectId: \"firechat-37187\",\r\n    storageBucket: \"firechat-37187.appspot.com\",\r\n    messagingSenderId: \"1029907543038\",\r\n    appId: \"1:1029907543038:web:73889e7981a440d976c6af\",\r\n    measurementId: \"G-VQ7XT8RGFP\"\r\n})\r\n\r\nconst db = firebaseApp.firestore()\r\n\r\nconst auth = firebase.auth()\r\n\r\nexport { db, auth }","import React from 'react'\r\nimport firebase from 'firebase'\r\nimport { auth } from '../firebase'\r\nimport { Button } from '@material-ui/core'\r\n\r\nfunction SignIn() {\r\n    function signInWithGoogle() {\r\n        const provider = new firebase.auth.GoogleAuthProvider()\r\n        auth.signInWithPopup(provider)\r\n    }\r\n    return (\r\n        <div style={{ display: 'flex', justifyContent: 'center', height: '100vh', alignItems: 'center' }}>\r\n            <Button style={{ padding: '30px', fontSize: '20px', borderRadius: '0', fontWeight: '600' }} onClick={signInWithGoogle}>Sign In With Google</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignIn\r\n","import { Input, Button } from '@material-ui/core'\r\nimport React, { useState } from 'react'\r\nimport firebase from 'firebase'\r\nimport { db, auth } from '../firebase'\r\n\r\nfunction SendMessages({ scroll }) {\r\n    const [msg, setMsg] = useState('')\r\n\r\n    async function sendMessage(e) {\r\n        e.preventDefault() //the page doesn't refresh when we press the button\r\n        const { uid, photoURL } = auth.currentUser\r\n\r\n        await db.collection('messages').add({\r\n            text: msg,\r\n            photoURL,\r\n            uid,\r\n            createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n        })\r\n        setMsg('') // 清空輸入欄位\r\n        scroll.current.scrollIntoView({ behavior: 'smooth' })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={sendMessage}>\r\n                <div className=\"sendMsg\">\r\n                    <Input style={{ width: '78%', fontSize: '15px', fontWeight: '550', marginLeft: '5px', marginBottom: '-3px' }} placeholder='Message...' type=\"text\" value={msg} onChange={e => setMsg(e.target.value)} />\r\n                    <Button style={{ width: '18%', fontSize: '15px', fontWeight: '550', margin: '4px 5% -13px 5%', maxWidth: '200px' }} type=\"submit\">Send</Button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SendMessages\r\n","import React from 'react'\r\nimport { auth } from '../firebase'\r\nimport { Button } from '@material-ui/core'\r\n\r\nfunction SignOut() {\r\n    return (\r\n        <div>\r\n            <Button onClick={() => auth.signOut()}>Sign Out</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignOut\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport { auth, db } from '../firebase'\r\nimport SendMessages from './SendMessages'\r\nimport SignOut from './SignOut'\r\n\r\nfunction Chat() {\r\n    const [messages, setMessages] = useState([])\r\n    const scroll = useRef()\r\n\r\n    useEffect(() => {\r\n        db.collection('messages').orderBy('createdAt').limit(50).onSnapshot((snapshot) => {\r\n            setMessages(snapshot.docs.map(doc => doc.data()))\r\n            //拿到 messages 這個collection的所有document\r\n        })\r\n    }, [])\r\n    // onSnapshot => 當 messages 這個 collection 有變動時，就會自動再執行\r\n\r\n    return (\r\n        <div>\r\n            <SignOut />\r\n            <div className=\"msgs\">\r\n                {messages.map(({ id, text, photoURL, uid }) => (\r\n                    <div>\r\n                        <div key={id} className={`msg ${uid === auth.currentUser.uid ? 'sent' : 'received'}`}>\r\n                            <img src={photoURL} alt=\"\" />\r\n                            <p>{text}</p>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <SendMessages scroll={scroll} />\r\n            <div ref={scroll}></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","import './App.css';\nimport SignIn from './components/SignIn';\nimport Chat from './components/Chat';\nimport { auth } from './firebase'\nimport { useAuthState } from 'react-firebase-hooks/auth'\n\nfunction App() {\n  const [user] = useAuthState(auth)\n  return (\n    <>\n      {user ? <Chat /> : <SignIn />}\n\n\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}