(this.webpackJsonpfirechat=this.webpackJsonpfirechat||[]).push([[0],{73:function(e,t,c){},92:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),i=c(24),a=c.n(i),r=c(21),o=(c(73),c(31)),l=c.n(o),j=c(52),d=c.n(j),h=c(20),u=h.a.initializeApp({apiKey:"AIzaSyBqHWdDg-ijdxQ_d7QOP-fvxvfaCFG5ygU",authDomain:"firechat-37187.firebaseapp.com",projectId:"firechat-37187",storageBucket:"firechat-37187.appspot.com",messagingSenderId:"1029907543038",appId:"1:1029907543038:web:73889e7981a440d976c6af",measurementId:"G-VQ7XT8RGFP"}).firestore(),b=h.a.auth(),f=c(4);var x=function(){return Object(f.jsx)("button",{type:"button",id:"login-button",onClick:function(){var e=new h.a.auth.GithubAuthProvider;b.signInWithPopup(e).then((function(e){var t=e.user;console.log(t)})).catch((function(e){var t=e.message;console.log(t)}))},children:Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})})};var O=function(){return Object(f.jsx)("button",{type:"button",id:"login-button",onClick:function(){var e=new h.a.auth.GoogleAuthProvider;b.signInWithPopup(e)},children:Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18px",height:"18px",viewBox:"0 0 48 48",children:Object(f.jsxs)("g",{children:[Object(f.jsx)("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),Object(f.jsx)("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),Object(f.jsx)("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),Object(f.jsx)("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),Object(f.jsx)("path",{fill:"none",d:"M0 0h48v48H0z"})]})})})},p=c(27),v=c.n(p),m=c(38),g=c(39),y=c.n(g);c(53),c(84);var w=function(e){var t=e.user,c=Object(n.useState)("true"),s=Object(r.a)(c,2),i=s[0],a=s[1];return Object(n.useEffect)((function(){l()((function(){setTimeout((function(){d()(".acceptContainer").transition({height:"431.5px"}),setTimeout((function(){l()(".acceptContainer").addClass("loadIn"),setTimeout((function(){l()(".formDiv, form h1").addClass("loadIn")}),300)}),300)}),200)}))}),[t]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"bulb ".concat(i?"":"off"),onClick:function(){a(!i)},children:Object(f.jsx)("div",{className:"filaments ".concat(i?"":"off")})})}),Object(f.jsx)("div",{id:"formContainer",children:Object(f.jsx)("div",{id:"inviteContainer",children:Object(f.jsx)("div",{className:"acceptContainer",children:Object(f.jsxs)("form",{children:[Object(f.jsx)("h1",{children:"\u7dda\u4e0a\u7c21\u6613\u804a\u5929\u5ba4"}),Object(f.jsxs)("div",{className:"formContainer",children:[Object(f.jsxs)("div",{className:"formDiv",style:{transitionDelay:"0.2s"},children:[Object(f.jsx)("p",{children:"\u5e33\u865f"}),Object(f.jsx)("input",{type:"email",required:""})]}),Object(f.jsxs)("div",{className:"formDiv",style:{transitionDelay:"0.4s"},children:[Object(f.jsx)("p",{children:"\u5bc6\u78bc"}),Object(f.jsx)("input",{type:"password",required:""}),Object(f.jsx)("a",{className:"forgotPas",href:"",children:"\u5fd8\u8a18\u5bc6\u78bc\uff1f"})]}),Object(f.jsxs)("div",{className:"formDiv",style:{transitionDelay:"0.6s"},children:[Object(f.jsx)("button",{className:"acceptBtn",type:"submit",children:"\u767b\u5165"}),Object(f.jsx)("span",{className:"register",children:Object(f.jsx)("a",{href:"",children:"\u6211\u8981\u8a3b\u518a"})})]}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignContent:"center"},children:[Object(f.jsx)("div",{className:"formDiv",style:{transitionDelay:"0.8s",paddingTop:0},children:Object(f.jsx)(O,{})}),Object(f.jsx)("div",{className:"formDiv",style:{transitionDelay:"0.8s",paddingTop:0},children:Object(f.jsx)(x,{})})]})]})]})})})}),Object(f.jsx)("div",{className:"floor",style:{zIndex:-10},children:Object(f.jsx)("div",{className:"shadow ".concat(i?"":"off")})})]})},C=c(122),N=c(59),D=c.n(N),I=c(116);var k=function(e){var t=e.scroll,c=Object(n.useState)(""),s=Object(r.a)(c,2),i=s[0],a=s[1],o=function(){var e=Object(m.a)(v.a.mark((function e(c){var n,s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),""===i){e.next=7;break}return n=b.currentUser,s=n.uid,r=n.photoURL,e.next=5,u.collection("messages").add({text:i,photoURL:r,uid:s,createdAt:h.a.firestore.FieldValue.serverTimestamp()});case 5:a(""),t.current.scrollIntoView({behavior:"smooth"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t.current.scrollIntoView({behavior:"smooth"})})),Object(f.jsx)("div",{children:Object(f.jsx)("form",{onSubmit:o,children:Object(f.jsxs)("div",{className:"sendMsg",children:[Object(f.jsx)(C.a,{style:{display:"flex",flex:4},placeholder:"Message...",type:"text",value:i,onChange:function(e){return a(e.target.value)}}),Object(f.jsx)("div",{style:{display:"flex",flex:1,justifyContent:"center",alignContent:"center"},children:Object(f.jsx)(I.a,{"aria-label":"send",children:Object(f.jsx)(D.a,{})})})]})})})},z=c(117),B=c(123),M=c(118),A=c(119),S=c(120),F=c(60),G=c.n(F),P=Object(z.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1}}}));function R(){var e=P();return Object(f.jsx)("div",{className:e.root,children:Object(f.jsx)(B.a,{position:"fixed",children:Object(f.jsxs)(M.a,{children:[Object(f.jsx)(I.a,{edge:"start",color:"inherit","aria-label":"chat",children:Object(f.jsx)(G.a,{})}),Object(f.jsx)(A.a,{variant:"h6",className:e.title,children:"\u7dda\u4e0a\u7c21\u6613\u804a\u5929\u5ba4"}),Object(f.jsx)(S.a,{color:"inherit",onClick:function(){return b.signOut()},disableRipple:!0,children:"\u767b\u51fa"})]})})})}var T=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],i=Object(n.useRef)();return Object(n.useEffect)((function(){u.collection("messages").orderBy("createdAt").limit(50).onSnapshot((function(e){s(e.docs.map((function(e){return e.data()})))}))}),[]),Object(f.jsxs)("div",{children:[Object(f.jsx)(R,{}),Object(f.jsx)("div",{className:"msgs",children:c.map((function(e){var t=e.id,c=e.text,n=e.photoURL,s=e.uid;return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"msg ".concat(s===b.currentUser.uid?"sent":"received"),children:[Object(f.jsx)("img",{className:"photoImgURL",src:n,alt:""}),Object(f.jsx)("p",{children:c})]},t)})}))}),Object(f.jsx)(k,{scroll:i}),Object(f.jsx)("div",{ref:i})]})},U=c(61);var E=function(){var e=Object(U.a)(b),t=Object(r.a)(e,1)[0];return console.log(y.a.get("profile")),Object(f.jsx)(f.Fragment,{children:t?Object(f.jsx)(T,{user:t}):Object(f.jsx)(w,{user:t})})},L=c(62),V=c(121),q=Object(L.a)({palette:{primary:{main:"#5f90a9"}}});a.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(V.a,{theme:q,children:Object(f.jsx)(E,{})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.8a966834.chunk.js.map